Об этой серии постов
Контекст - серверная разработка на Java

Работать с современным софтом больно
Потому что его сложно понять.
И страшно менять.
Потому что:
1) Изменения приводят к куче регрессий
1.1) тестам нельзя верить
1.2) контракт погребён под горой логики на нескольких уровнях
1.2.1) В частности мутация глобального состояния
1.2.2) В частности дёрти чекинг JPA
2) Рефактринг требует огромнго количества изменений в куче разного кода
2.1) Тесты с моками сцеплены с реализацией
2.2) Юнит тесты тестируют детали реализации
2.3) В коде нет границ и инкапсуляции
2.3.1) Потому что всё public, потому что нарезано по слоям.

Для того чтобы с софтом было приятно работать, необходимо:
1) Минимизировать и инкапсулировать мутацию состояния
2) Стремиться разбивать код на небольшие кусочки с чёткими границами
3) Разделить логику и эффекты
4) Стремиться предельно ясно и сконцентрированно описывать контракт событие -> эффекты
5) Не использовать моки в тестировании
6) Концентрироваться на е2е тестировании
 - https://www.tedinski.com/2018/04/10/making-tests-a-positive-influence-on-design.html

Общие принципы разработки софта
1) High cohesion, loose coupling
2) Dependency inversion principle
3) Encapsulation
4) Single responsibility principle
5) Interface segregation principle
6) CQRS
7) Reasoning locality
8) Разделение логики и эффектов
9) Зависимости направлены в сторону более стабильных единиц
10) Зависимости должны образовывать ацикличный направленный граф

Релатед ворк:
1) Чистая архитектура
2) Функциональная архитектура
3) DDD
4) Lean Architecture
5) OOSE
6) Screaming Architecture
7) С4

Необходимо разделять ООП, программирование с классами и ООД
Классический ООД хорошо работает только в редких случаях
ООД по Якобсону
ООД по Якобсону для инкапсуляции мутации состояния

"Труъ" ФП никогда не станет мейнстримом - его мало кто может понять и мир работает по другому
Но самую важную часть ФП - разделение логики и эффектов - можно обернуть в классы
ФП для реализации операций

Архитектура
Архитектура, дизайн и диаграмма деплоймента
Архитектура это связь компонентов в ран тайме
 - Архитекутра выражается в компонентах и их связях
Дизайн это набор запретов на статические связи компонентов
 - Дизайн выражается в классах и их связях
 - package private by default
С4 Архитектура
Состояние, поведение и зависимости системы
Компоненты состояния нарезаются исходя из разделения логики и эффектов и ДДД агрегатов
Компоненты поведения нарезаются исходя из минимизации зависимостей, разделения логики и эффектов и юз кейсов
Контейнеры нарезаются исходя из операционных потребностей
 - если у нет автоматического масштабирования и cd - микросервисы не нужны
Модули нарезаются исходя из минимизации лишних зависимостей, минимизации оверхеда на организацию проекта
Дизайн системы как роутер событие -> воркфлоу -> эффекты
Дизайн воркфлоуа

Практики кодирования
Почему не стоит использовать Spring
Почему не стоит использовать Spring component scan
Почему не стоит использовать Spring field injection
Почему не стоит использовать JPA
Почему не стоит использовать ленивую загрузку
Почему не стоит использовать dirty checking
Наследование
https://www.tedinski.com/2018/02/27/the-expression-problem.html

Практики тестирования

Примеры
