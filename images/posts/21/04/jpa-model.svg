<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentScriptType="application/ecmascript" contentStyleType="text/css" height="388px" preserveAspectRatio="none" style="width:626px;height:388px;" version="1.1" viewBox="0 0 626 388" width="626px" zoomAndPan="magnify">
    <defs />
    <g>
        <!--MD5=[6e8f311b0aa23032184ffba0ef926f91]
entity App-->
        <rect fill="#E7F0F9" height="36.2969" style="stroke:#E7F0F9;stroke-width:1.5;" width="95" x="7" y="120" /><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="75" x="17" y="142.9951">Application</text>
        <!--MD5=[7b283ce894c5928581d5380ce71c9d62]
entity PC-->
        <rect fill="#E7F0F9" height="36.2969" style="stroke:#E7F0F9;stroke-width:1.5;" width="156" x="365.5" y="233" /><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="136" x="375.5" y="255.9951">PersistenceContext</text>
        <!--MD5=[650786173233d3e11f7cf16ec5befb35]
entity Trx-->
        <rect fill="#E7F0F9" height="36.2969" style="stroke:#E7F0F9;stroke-width:1.5;" width="101" x="235" y="346" /><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="81" x="245" y="368.9951">Transaction</text>
        <!--MD5=[987c1d78ec6669b64fb218560bdf9922]
entity EM-->
        <rect fill="#E7F0F9" height="36.2969" style="stroke:#E7F0F9;stroke-width:1.5;" width="118" x="258.5" y="120" /><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="98" x="268.5" y="142.9951">EntityManager</text>
        <!--MD5=[bea2a68a126f07da28eb9f190a9ea435]
entity orm-->
        <rect fill="#E7F0F9" height="36.2969" style="stroke:#E7F0F9;stroke-width:1.5;" width="53" x="552" y="120" /><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="33" x="562" y="142.9951">ORM</text>
        <!--MD5=[076819e093f3f70c47713cc9cf02194b]
entity JDBC-->
        <rect fill="#E7F0F9" height="36.2969" style="stroke:#E7F0F9;stroke-width:1.5;" width="54" x="290.5" y="7" /><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="34" x="300.5" y="29.9951">JDBC</text>
        <!--MD5=[d562dfc7d6c8a04dfe8d477afd2d49b3]
link App to EM-->
        <path d="M102.13,138 C144.4,138 206.53,138 253.2,138 " fill="none" id="App-to-EM" style="stroke:#3B3B40;stroke-width:1.0;" />
        <polygon fill="#3B3B40" points="258.24,138,249.24,134,253.24,138,249.24,142,258.24,138" style="stroke:#3B3B40;stroke-width:1.0;" /><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="78" x="139.25" y="116.0669">использует</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="116" x="124.25" y="131.1997">для работы с БД</text>
        <!--MD5=[e210c2af828f6095e1fdbdf77fbf59d5]
link EM to Trx-->
        <path d="M306.62,156.19 C295.77,174.43 279.84,204.51 273.5,233 C265.19,270.34 273.05,314.94 279.37,341 " fill="none" id="EM-to-Trx" style="stroke:#3B3B40;stroke-width:1.0;" />
        <polygon fill="#3B3B40" points="280.61,345.96,282.3077,336.2586,279.3973,341.1093,274.5466,338.1989,280.61,345.96" style="stroke:#3B3B40;stroke-width:1.0;" /><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="72" x="274.5" y="255.5669">управляет</text>
        <!--MD5=[d799743301fd58440736544e8b8c4095]
link EM to PC-->
        <path d="M336.91,156.1 C359.23,175.76 395.86,208.03 419.83,229.15 " fill="none" id="EM-to-PC" style="stroke:#3B3B40;stroke-width:1.0;" />
        <polygon fill="#3B3B40" points="423.86,232.7,419.7376,223.7554,420.1033,229.4004,414.4583,229.7661,423.86,232.7" style="stroke:#3B3B40;stroke-width:1.0;" /><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="230" x="388.5" y="199.0669">создаёт для каждой транзакции</text>
        <!--MD5=[dd46c34b1b3b6d120fd5ad6d9dd8d76c]
reverse link JDBC to EM-->
        <path d="M317.5,48.47 C317.5,69.55 317.5,100.6 317.5,119.78 " fill="none" id="JDBC-backto-EM" style="stroke:#3B3B40;stroke-width:1.0;" />
        <polygon fill="#3B3B40" points="317.5,43.34,313.5,52.34,317.5,48.34,321.5,52.34,317.5,43.34" style="stroke:#3B3B40;stroke-width:1.0;" /><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="227" x="318.5" y="86.0669">использует для загрузки данных</text>
        <!--MD5=[977208bc37e3f5f41942323295529ea1]
link EM to orm-->
        <path d="M376.72,138 C429.37,138 504.34,138 546.5,138 " fill="none" id="EM-to-orm" style="stroke:#3B3B40;stroke-width:1.0;" />
        <polygon fill="#3B3B40" points="551.73,138,542.73,134,546.73,138,542.73,142,551.73,138" style="stroke:#3B3B40;stroke-width:1.0;" /><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="108" x="408.25" y="116.0669">использует для</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="135" x="398.75" y="131.1997">маппинга объектов</text>
        <!--MD5=[16543a3f56c5fdf24f56ac147252f863]
link PC to Trx-->
        <path d="M419.16,269.1 C390.86,288.98 344.21,321.76 314.17,342.85 " fill="none" id="PC-to-Trx" style="stroke:#3B3B40;stroke-width:1.0;" />
        <polygon fill="#3B3B40" points="309.87,345.88,319.5321,343.971,313.9588,343.0022,314.9276,337.4289,309.87,345.88" style="stroke:#3B3B40;stroke-width:1.0;" /><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="75" x="375.5" y="312.0669">привязан к</text>
        <!--MD5=[54bb8ffc66ac98fad4d5df0b47af6893]
@startuml

skinparam Arrow {
    Color 3b3b40
}

skinparam rectangle {
    shadowing false
    backgroundColor E7F0F9
    borderColor E7F0F9
}

rectangle "Application" as App
rectangle "PersistenceContext"  as PC
rectangle "Transaction" as Trx
rectangle "EntityManager"  as EM
rectangle "ORM" as orm
rectangle "JDBC" as JDBC

App -r-> EM : использует \n для работы с БД
EM -r-> Trx : управляет
EM -d-> PC : создаёт для каждой транзакции
EM -u-> JDBC : использует для загрузки данных
EM -r-> orm : использует для \n маппинга объектов
PC - -> Trx : привязан к

@enduml

PlantUML version 1.2021.00(Sun Jan 10 17:25:05 NOVT 2021)
(GPL source distribution)
Java Runtime: OpenJDK Runtime Environment
JVM: OpenJDK 64-Bit Server VM
Default Encoding: UTF-8
Language: en
Country: US
-->
    </g>
</svg>